<!doctype html>
<html class="no-js" lang="en">

    <head>
        <!-- meta data -->
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->

        <!--font-family-->
		<link href="https://fonts.googleapis.com/css?family=Poppins:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet">
        
        <!-- title of site -->
        <title>Directory Landing Page</title>

        <!-- For favicon png -->
		<link rel="shortcut icon" type="image/icon" href="assets/logo/favicon.png"/>
       
        <!--font-awesome.min.css-->
        <link rel="stylesheet" href="assets/css/font-awesome.min.css">

        <!--linear icon css-->
		<link rel="stylesheet" href="assets/css/linearicons.css">

		<!--animate.css-->
        <link rel="stylesheet" href="assets/css/animate.css">

		<!--flaticon.css-->
        <link rel="stylesheet" href="assets/css/flaticon.css">

		<!--slick.css-->
        <link rel="stylesheet" href="assets/css/slick.css">
		<link rel="stylesheet" href="assets/css/slick-theme.css">
		
        <!--bootstrap.min.css-->
        <link rel="stylesheet" href="assets/css/bootstrap.min.css">
		
		<!-- bootsnav -->
		<link rel="stylesheet" href="assets/css/bootsnav.css" >	
        
        <!--style.css-->
        <link rel="stylesheet" href="assets/css/style.css">
        
        <!--responsive.css-->
        <link rel="stylesheet" href="assets/css/responsive.css">
        
        <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
        <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
		
        <!--[if lt IE 9]>
			<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
			<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
        <![endif]-->

    </head>
	
	<body>
		<!--[if lte IE 9]>
            <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
        <![endif]-->
		
		<!--header-top start -->
		<header id="header-top" class="header-top">
			<ul>
				
				<li class="head-responsive-right pull-right">
					<div class="header-top-right">
						<ul>
							<li class="header-top-contact">
								+91 9057798641
							</li>
							<li class="header-top-contact">
								<a href="#">sign in</a>
							</li>
							<li class="header-top-contact">
								<a href="#">register</a>
							</li>
						</ul>
					</div>
				</li>
			</ul>
					
		</header><!--/.header-top-->
		<!--header-top end -->

		<!-- top-area Start -->
		<section class="top-area">
			<div class="header-area">
				<!-- Start Navigation -->
			    <nav class="navbar navbar-default bootsnav  navbar-sticky navbar-scrollspy"  data-minus-value-desktop="70" data-minus-value-mobile="55" data-speed="1000">

			        <div class="container">

			            <!-- Start Header Navigation -->
			            <div class="navbar-header">
			                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-menu">
			                    <i class="fa fa-bars"></i>
			                </button>
			                <a class="navbar-brand" href="index.html">Inquest<span>AI</span></a>

			            </div><!--/.navbar-header-->
			            <!-- End Header Navigation -->

			            <!-- Collect the nav links, forms, and other content for toggling -->
			            <div class="collapse navbar-collapse menu-ui-design" id="navbar-menu">
			                <ul class="nav navbar-nav navbar-right" data-in="fadeInDown" data-out="fadeOutUp">
			                    <li class=" scroll active"><a href="#home">home</a></li>
			                    <li class="scroll"><a href="#works">how it works</a></li>
			                    <li class="scroll"><a href="#explore">explore</a></li>
			                    <li class="scroll"><a href="#reviews">review</a></li>
			                    <li class="scroll"><a href="#blog">blog</a></li>
			                    <li class="scroll"><a href="#contact">contact</a></li>
			                </ul><!--/.nav -->
			            </div><!-- /.navbar-collapse -->
			        </div><!--/.container-->
			    </nav><!--/nav-->
			    <!-- End Navigation -->
			</div><!--/.header-area-->
		    <div class="clearfix"></div>

		</section><!-- /.top-area-->
		<!-- top-area End -->

		<!--welcome-hero start -->
		<section id="home" class="welcome-hero">
			<div class="container">
				<div class="welcome-hero-txt">
					<h2>Interview <br> Questions <br> Creator </h2>
					<p>
						Transform PDFs into Conversations: Intelligent Q&A Generation with AI
					</p>
				</div>
				<div class="welcome-hero-serch-box">
					<section class="mb-4">
						<div class="container">
							<div class="row">
								<div class="cl-sm-12">
									<div class="card p-5 shadow border-0 m-3">
										<div class="mb-3">
											<label for="exampleFormControlInput1" class="form-label">Upload your PDF file here</label>
											<div class="input-group mb-3">
												<input type="file" class="form-control" id="pdf-file">	
											</div>
										  </div>
										  <div class="mb-3 text-end">
											<button type="button" id="upload-btn" class="btn btn-md btn-success">Generate Q&A</button>
										</div>
									</div>
								</div>
							</div>
						</div>
					</section>
					<section id="result">
						<div class="container">
							<div class="row">
								<div class="col-sm-6">
									<div class="card shadow border-0 p-3 ms-3">
										<embed id="view-pdf" src="" width="100%" height="600px" />
									</div>
								</div>
								<div class="col-sm-6">
									<div class="card shadow border-0 p-5 me-3">
										<div id="loader" class="text-center">
											<i class="fa-solid fa-spinner fa-spin-pulse font-large"></i>
										</div>
										<div id="download" class="text-center">
											<a href="" id="download-btn" class="btn btn-md btn-warning" download><i class="fas fa-download font-large"></i></a>
										</div>
									</div>
								</div>
							</div>
						</div>
					</section>
					<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"></script>
					<script src="https://kit.fontawesome.com/1da99de032.js" crossorigin="anonymous"></script>
					<script src="https://code.jquery.com/jquery-3.5.1.js"></script>
					<script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
					<script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.min.js"></script>
				
					<script>
						let result = document.getElementById('result');
						let loader = document.getElementById('loader');
						let download = document.getElementById('download');
						let viewPdf = document.getElementById('view-pdf');
						let downloadBtn = document.getElementById('download-btn');
				
						$(document).ready(function () {
							$("#upload-btn").click(async function (event) {
								event.preventDefault();
								const formData = new FormData();
								const fileInput = document.getElementById('pdf-file') ;  
								var file = fileInput.files[0];           
								
								formData.append('pdf_file', file);
								formData.append('filename', file.name)
								let response = await fetch('/upload', {
									method: "POST",
									body: formData                
								});                
								processUploadResponse(response);  
							});
						});
				
						async function processUploadResponse(response){
							switch (response.status) {
								case 400:  
									Swal.fire({
										icon: 'error',
										title: 'Oops!!!',
										text: "Sorry, Couldn't be able to upload your pdf!!!",
										confirmButtonColor: "#15011d"
									}).then(function() {
										window.location.reload();
									});
								  break;
								case 200:                 
									var json = await response.json();
									if (json.msg == "error") {
										Swal.fire({
											icon: 'error',
											title: 'Oops!',
											text: 'Maximum number of pages exceeded.',
											confirmButtonColor: "#545454"
										}).then(function() {
											window.location.reload();
										});
									}else {
										result.style.display = "block";
										loader.style.display = "block";
										download.style.display = "none";
										viewPdf.setAttribute('src', "../"+json.pdf_filename)
										viewPdf.setAttribute('preload', 'auto');
										const formData = new FormData();
										formData.append('pdf_filename', json.pdf_filename)
										fetch('/analyze', {
											method: "POST",
											body: formData                
										}).then(processAnalyzeResponse)  
									}
									
									break;
								default:
									Swal.fire({
										icon: 'error',
										title: 'Oops!!!',
										text: "There is a "+response.status+" error. Please contact admin for support.",
										confirmButtonColor: "#15011d"
									}).then(function() {
										window.location.reload();
									});
							}
						}
				
						async function processAnalyzeResponse(response){            
							switch (response.status) {
								case 400:  
									Swal.fire({
										icon: 'error',
										title: 'Oops!!!',
										text: "Sorry, Couldn't be able to analyze your pdf!!!",
										confirmButtonColor: "#15011d"
									}).then(function() {
										window.location.reload();
									});
								  break;
								case 200:                     
									loader.style.display = "none";
									download.style.display = "block";
									var json = await response.json();
									downloadBtn.setAttribute('href', "../"+json.output_file)
									break;
								default:
									Swal.fire({
										icon: 'error',
										title: 'Oops!!!',
										text: "There is a "+response.status+" error. Please contact admin for support.",
										confirmButtonColor: "#15011d"
									}).then(function() {
										window.location.reload();
									});
							}
						}
				
						
					</script>
				</div>
			</div>

		</section><!--/.welcome-hero-->
		<!--welcome-hero end -->

		<!--subscription strat -->
		<section id="contact"  class="subscription">
			<div class="container">
				<div class="subscribe-title text-center">
					<h2>
						do you want to add your business listing with us?
					</h2>
					<p>
						Listrace offer you to list your business with us and we very much able to promote your Business.
					</p>
				</div>
				<div class="row">
					<div class="col-sm-12">
						<div class="subscription-input-group">
							<form action="#">
								<input type="email" class="subscription-input-form" placeholder="Enter your email here">
								<button class="appsLand-btn subscribe-btn" onclick="window.location.href='#'">
									creat account
								</button>
							</form>
						</div>
					</div>	
				</div>
			</div>

		</section><!--/subscription-->	
		<!--subscription end -->

		<!--footer start-->
		<footer id="footer"  class="footer">
			<div class="container">
				<div class="footer-menu">
		           	<div class="row">
			           	<div class="col-sm-3">
			           		 <div class="navbar-header">
				                <a class="navbar-brand" href="index.html">Inquest<span>AI</span></a>
				            </div><!--/.navbar-header-->
			           	</div>
			           	<div class="col-sm-9">
			           		<ul class="footer-menu-item">
			                    <li class="scroll"><a href="#works">how it works</a></li>
			                    <li class="scroll"><a href="#explore">explore</a></li>
			                    <li class="scroll"><a href="#reviews">review</a></li>
			                    <li class="scroll"><a href="#blog">blog</a></li>
			                    <li class="scroll"><a href="#contact">contact</a></li>
			                    <li class=" scroll"><a href="#contact">my account</a></li>
			                </ul><!--/.nav -->
			           	</div>
		           </div>
				</div>
				<div class="hm-footer-copyright">
					<div class="row">
						<div class="col-sm-5">
							<p>
								&copy;copyright. designed and developed by <a href=#>Ankit Kumar</a>
							</p><!--/p-->
						</div>
						<div class="col-sm-7">
							<div class="footer-social">
								<span><i class="fa fa-phone"> +91  (905) 779 8641</i></span>
								<a href="#"><i class="fa fa-facebook"></i></a>	
								<a href="#"><i class="fa fa-twitter"></i></a>
								<a href="#"><i class="fa fa-linkedin"></i></a>
								<a href="#"><i class="fa fa-google-plus"></i></a>
							</div>
						</div>
					</div>
					
				</div><!--/.hm-footer-copyright-->
			</div><!--/.container-->

			<div id="scroll-Top">
				<div class="return-to-top">
					<i class="fa fa-angle-up " id="scroll-top" data-toggle="tooltip" data-placement="top" title="" data-original-title="Back to Top" aria-hidden="true"></i>
				</div>
				
			</div><!--/.scroll-Top-->
			
        </footer><!--/.footer-->
		<!--footer end-->
		
		<!-- Include all js compiled plugins (below), or include individual files as needed -->

		<script src="assets/js/jquery.js"></script>
        
        <!--modernizr.min.js-->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.min.js"></script>
		
		<!--bootstrap.min.js-->
        <script src="assets/js/bootstrap.min.js"></script>
		
		<!-- bootsnav js -->
		<script src="assets/js/bootsnav.js"></script>

        <!--feather.min.js-->
        <script  src="assets/js/feather.min.js"></script>

        <!-- counter js -->
		<script src="assets/js/jquery.counterup.min.js"></script>
		<script src="assets/js/waypoints.min.js"></script>

        <!--slick.min.js-->
        <script src="assets/js/slick.min.js"></script>

		<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.4.1/jquery.easing.min.js"></script>
		     
        <!--Custom JS-->
        <script src="assets/js/custom.js"></script>
        
    </body>
	
</html>